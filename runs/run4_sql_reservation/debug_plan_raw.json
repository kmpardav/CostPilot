{
  "metadata": {
    "version": "1.0",
    "currency": "EUR",
    "default_region": "westeurope"
  },
  "scenarios": [
    {
      "id": "baseline",
      "label": "Baseline / Recommended – PAYG DB",
      "description": "Two-tier web app with App Service and Azure SQL Database Business Critical 4 vCores on pay-as-you-go, including basic networking, security, monitoring and backup.",
      "resources": [
        {
          "id": "vnet-main",
          "category": "network.vnet",
          "service_name": "Virtual Network",
          "arm_sku_name": null,
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "other",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 0,
            "operations_per_month": 0,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 0,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Single production VNet for App Service integration and private endpoints to Azure SQL Database. No direct VNet cost but needed for topology.",
          "source": "llm-inferred"
        },
        {
          "id": "appsvc-plan-prod",
          "category": "appservice",
          "service_name": "App Service",
          "arm_sku_name": "P1v3",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "web_app",
          "criticality": "prod",
          "os_type": "linux",
          "metrics": {
            "storage_gb": 50,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 300,
            "operations_per_month": 0,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 10,
            "iops": 0,
            "dtus": 0,
            "vcores": 2
          },
          "notes": "Premium v3 P1v3 App Service Plan (1 instance) hosting the web tier. Assumes Linux runtime, 2 vCores, 8 GB RAM. 50 GB included storage. Estimated 300 GB/month outbound traffic from app to internet.",
          "source": "llm-inferred"
        },
        {
          "id": "sql-db-bc4-pag",
          "category": "db.sql",
          "service_name": "SQL Database",
          "arm_sku_name": "BC_Gen5_4",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "db",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 512,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 50,
            "operations_per_month": 0,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 5,
            "iops": 0,
            "dtus": 0,
            "vcores": 4
          },
          "notes": "Single Azure SQL Database, Business Critical tier, Gen5, 4 vCores as requested. Pay-as-you-go pricing. Assumes 512 GB allocated storage and zone-redundant HA within region. 50 GB/month outbound data (e.g. backups, exports, admin access).",
          "source": "user-exact"
        },
        {
          "id": "sql-db-bc4-backup-storage",
          "category": "storage.blob",
          "service_name": "Storage",
          "arm_sku_name": "Standard_GRS",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "backup",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0,
            "hot_gb": 200,
            "cool_gb": 100,
            "archive_gb": 0,
            "egress_gb": 20,
            "operations_per_month": 200000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 2,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Represents underlying blob storage consumption for SQL automated backups and long-term retention. Approximation: 300 GB total (200 GB hot, 100 GB cool) with GRS redundancy and moderate operations.",
          "source": "llm-inferred"
        },
        {
          "id": "appgw-waf-public",
          "category": "network.appgw",
          "service_name": "Application Gateway",
          "arm_sku_name": "WAF_v2",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "gateway",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 300,
            "operations_per_month": 100000000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 20,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Application Gateway v2 with WAF for HTTP(S) termination and protection in front of App Service. Estimated 300 GB/month outbound and 100M HTTP(S) requests.",
          "source": "llm-inferred"
        },
        {
          "id": "public-ip-appgw",
          "category": "network.public_ip",
          "service_name": "Public IP Addresses",
          "arm_sku_name": "Standard",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "gateway",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 0,
            "operations_per_month": 0,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 0,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Standard public IP for Application Gateway exposure to internet clients.",
          "source": "llm-inferred"
        },
        {
          "id": "nat-egress",
          "category": "network.nat",
          "service_name": "Virtual Network NAT",
          "arm_sku_name": "Standard",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "network_egress",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 100,
            "operations_per_month": 0,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 5,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "NAT Gateway for outbound internet access from integrated services (e.g., App Service VNet integration). Estimated 100 GB/month outbound via NAT.",
          "source": "llm-inferred"
        },
        {
          "id": "kv-main",
          "category": "security.keyvault",
          "service_name": "Key Vault",
          "arm_sku_name": "standard",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "other",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 1,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 1,
            "operations_per_month": 50000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 1,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Azure Key Vault Standard for connection strings, secrets, and certificates used by App Service and automation. Approx. 50k operations/month.",
          "source": "llm-inferred"
        },
        {
          "id": "redis-cache-basic",
          "category": "cache.redis",
          "service_name": "Azure Cache for Redis",
          "arm_sku_name": "C1",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "cache",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 1,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 20,
            "operations_per_month": 50000000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 10,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Standard C1 Redis cache for session state and application caching to offload Azure SQL. 1 GB cache, moderate throughput and operations.",
          "source": "llm-inferred"
        },
        {
          "id": "log-analytics-main",
          "category": "monitoring.loganalytics",
          "service_name": "Log Analytics",
          "arm_sku_name": "PerGB2018",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "analytics",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 200,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 100,
            "egress_gb": 10,
            "operations_per_month": 100000000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 1,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Central Log Analytics workspace for App Service, SQL diagnostics, and platform logs. Approx. 200 GB/month ingestion, 100 GB archived.",
          "source": "llm-inferred"
        },
        {
          "id": "backup-vault-main",
          "category": "backup.vault",
          "service_name": "Backup",
          "arm_sku_name": "Standard",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "backup",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 250,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 10,
            "operations_per_month": 100000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 1,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Recovery Services vault for backing up App Service content (via connected storage), configuration exports, and any supporting VMs if added later. 250 GB protected backup data assumed.",
          "source": "llm-inferred"
        },
        {
          "id": "asr-dr",
          "category": "dr.asr",
          "service_name": "Azure Site Recovery",
          "arm_sku_name": null,
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "dr",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 100,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 20,
            "operations_per_month": 100000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 1,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Placeholder for DR protection of any stateful components (e.g., future VMs or storage). Azure SQL DB uses built-in geo-replication; ASR here is minimal (1 protected instance) to model DR capability.",
          "source": "llm-inferred"
        }
      ]
    },
    {
      "id": "cost_optimized",
      "label": "Cost Optimized – 1-year reserved DB",
      "description": "Same two-tier architecture but with Azure SQL Database Business Critical 4 vCores on 1-year reserved capacity to reduce database costs; slightly reduced supporting resources.",
      "resources": [
        {
          "id": "vnet-main-co",
          "category": "network.vnet",
          "service_name": "Virtual Network",
          "arm_sku_name": null,
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "reserved",
          "workload_type": "other",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 0,
            "operations_per_month": 0,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 0,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Same VNet topology as baseline; no direct cost but kept for completeness.",
          "source": "llm-inferred"
        },
        {
          "id": "appsvc-plan-co",
          "category": "appservice",
          "service_name": "App Service",
          "arm_sku_name": "P1v3",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 600,
          "billing_model": "payg",
          "workload_type": "web_app",
          "criticality": "prod",
          "os_type": "linux",
          "metrics": {
            "storage_gb": 50,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 250,
            "operations_per_month": 0,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 8,
            "iops": 0,
            "dtus": 0,
            "vcores": 2
          },
          "notes": "Same SKU (P1v3) but assumes some off-hours scaling down or use of deployment slots to reduce effective runtime to ~600 hours/month.",
          "source": "llm-inferred"
        },
        {
          "id": "sql-db-bc4-res1y",
          "category": "db.sql",
          "service_name": "SQL Database",
          "arm_sku_name": "BC_Gen5_4",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "reserved",
          "workload_type": "db",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 512,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 40,
            "operations_per_month": 0,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 4,
            "iops": 0,
            "dtus": 0,
            "vcores": 4
          },
          "notes": "Azure SQL Database Business Critical, Gen5, 4 vCores with 1-year reserved capacity. Same performance as baseline but lower unit price. 512 GB storage assumed.",
          "source": "user-exact"
        },
        {
          "id": "sql-db-bc4-backup-storage-co",
          "category": "storage.blob",
          "service_name": "Storage",
          "arm_sku_name": "Standard_LRS",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "backup",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0,
            "hot_gb": 150,
            "cool_gb": 100,
            "archive_gb": 0,
            "egress_gb": 10,
            "operations_per_month": 150000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 1,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "SQL backup and LTR storage with LRS instead of GRS to reduce cost. Approx. 250 GB total.",
          "source": "llm-inferred"
        },
        {
          "id": "appgw-waf-public-co",
          "category": "network.appgw",
          "service_name": "Application Gateway",
          "arm_sku_name": "WAF_v2",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 600,
          "billing_model": "payg",
          "workload_type": "gateway",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 250,
            "operations_per_month": 70000000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 15,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Application Gateway WAF v2 with slightly reduced active hours (e.g., scaled down during off-peak) to save cost.",
          "source": "llm-inferred"
        },
        {
          "id": "public-ip-appgw-co",
          "category": "network.public_ip",
          "service_name": "Public IP Addresses",
          "arm_sku_name": "Standard",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "gateway",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 0,
            "operations_per_month": 0,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 0,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Standard public IP for Application Gateway; always allocated.",
          "source": "llm-inferred"
        },
        {
          "id": "nat-egress-co",
          "category": "network.nat",
          "service_name": "Virtual Network NAT",
          "arm_sku_name": "Standard",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 600,
          "billing_model": "payg",
          "workload_type": "network_egress",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 80,
            "operations_per_month": 0,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 4,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "NAT Gateway with reduced active hours and slightly lower outbound volume to reflect cost optimization.",
          "source": "llm-inferred"
        },
        {
          "id": "kv-main-co",
          "category": "security.keyvault",
          "service_name": "Key Vault",
          "arm_sku_name": "standard",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "other",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 1,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 1,
            "operations_per_month": 30000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 1,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Same Key Vault but with fewer operations assumed to reflect optimized usage and caching of secrets.",
          "source": "llm-inferred"
        },
        {
          "id": "redis-cache-co",
          "category": "cache.redis",
          "service_name": "Azure Cache for Redis",
          "arm_sku_name": "B1",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 600,
          "billing_model": "payg",
          "workload_type": "cache",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 0.25,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 10,
            "operations_per_month": 20000000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 5,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Basic B1 Redis cache (non-HA) to reduce cost while still providing some caching. 600 active hours/month assumed.",
          "source": "llm-inferred"
        },
        {
          "id": "log-analytics-co",
          "category": "monitoring.loganalytics",
          "service_name": "Log Analytics",
          "arm_sku_name": "PerGB2018",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "analytics",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 120,
            "hot_gb": 0,
            "cool_gb": 60,
            "archive_gb": 0,
            "egress_gb": 5,
            "operations_per_month": 60000000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 1,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Reduced ingestion (120 GB/month) and use of archive/capped retention to lower monitoring costs.",
          "source": "llm-inferred"
        },
        {
          "id": "backup-vault-co",
          "category": "backup.vault",
          "service_name": "Backup",
          "arm_sku_name": "Standard",
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "backup",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 180,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 5,
            "operations_per_month": 50000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 1,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Backup vault with slightly lower protected data volume and fewer restore operations to reflect cost optimization.",
          "source": "llm-inferred"
        },
        {
          "id": "asr-dr-co",
          "category": "dr.asr",
          "service_name": "Azure Site Recovery",
          "arm_sku_name": null,
          "region": "westeurope",
          "quantity": 1,
          "hours_per_month": 730,
          "billing_model": "payg",
          "workload_type": "dr",
          "criticality": "prod",
          "os_type": "na",
          "metrics": {
            "storage_gb": 50,
            "hot_gb": 0,
            "cool_gb": 0,
            "archive_gb": 0,
            "egress_gb": 10,
            "operations_per_month": 50000,
            "messages_per_month": 0,
            "throughput_ru": 0,
            "throughput_mbps": 0.5,
            "iops": 0,
            "dtus": 0,
            "vcores": 0
          },
          "notes": "Minimal DR footprint (1 protected instance) with lower replicated storage to keep DR costs down. Azure SQL DB still relies on built-in geo-replication if enabled.",
          "source": "llm-inferred"
        }
      ]
    }
  ]
}